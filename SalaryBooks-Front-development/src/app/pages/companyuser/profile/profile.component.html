<companyuser-app-dashboard-header></companyuser-app-dashboard-header>

<div class="br-mainpanel">
  <div class="br-pageheader">
    <nav class="breadcrumb pd-0 mg-0 tx-12">
      <a class="breadcrumb-item" routerLink="/company">Dashbaord</a>
      <span class="breadcrumb-item active">Company Profile</span>
    </nav>
  </div>

  <div class="br-pagetitle">
    <i class="icon icon ion-ios-home"></i>
    <div>
      <h4>Company Profile</h4>
      <!-- <p class="mg-b-0">Lorem Ipsum is simply dummy text of the printing and typesetting</p> -->
    </div>
  </div>

  <div class="br-pagebody">
    <div class="br-section-wrapper pd-10">
      <div class="row" id="company-profile-update">
        <div class="col-md-4">
          <div
            class="nav flex-column nav-pills bd_steps"
            id="v-pills-tab"
            role="tablist"
            aria-orientation="vertical"
          >
            <a
              class="nav-link active"
              id="v-pills-Details-tab"
              data-toggle="pill"
              href="#v-pills-Details"
              role="tab"
              aria-controls="v-pills-Details"
              aria-selected="true"
              >Details</a
            >
            <a
              class="nav-link"
              id="v-pills-Partners-tab"
              data-toggle="pill"
              href="#v-pills-Partners"
              role="tab"
              aria-controls="v-pills-Partners"
              aria-selected="false"
              >Partners Details</a
            >
            <a
              class="nav-link"
              id="v-pills-Establishment-tab"
              data-toggle="pill"
              href="#v-pills-Establishment"
              role="tab"
              aria-controls="v-pills-Establishment"
              aria-selected="false"
              >Establishment Details</a
            >
            <a
              class="nav-link"
              id="v-pills-Registered-tab"
              data-toggle="pill"
              href="#v-pills-Registered"
              role="tab"
              aria-controls="v-pills-Registered"
              aria-selected="false"
              >Registered Office Address</a
            >
            <a
              class="nav-link"
              id="v-pills-Communication-tab"
              data-toggle="pill"
              href="#v-pills-Communication"
              role="tab"
              aria-controls="v-pills-Communication"
              aria-selected="false"
              >Communication Office Address</a
            >
            <!-- <a class="nav-link" id="v-pills-Provident-tab" data-toggle="pill" href="#v-pills-Provident" role="tab" aria-controls="v-pills-Provident" aria-selected="false">Employer’s Provident Fund (EPF)</a> -->
            <!-- <a class="nav-link" id="v-pills-Insurance-tab" data-toggle="pill" href="#v-pills-Insurance" role="tab" aria-controls="v-pills-Insurance" aria-selected="false">Employer’s State Insurance (ESIC)</a> -->
            <!-- <a class="nav-link" id="v-pills-Professional-tab" data-toggle="pill" href="#v-pills-Professional" role="tab" aria-controls="v-pills-Professional" aria-selected="false">Professional Tax</a> -->
            <a
              *ngIf="
                Global.checkCompanyModulePermission({
                  company_module: 'master',
                  company_sub_module: 'branch',
                  company_sub_operation: ['view'],
                  company_strict: true
                })
              "
              class="nav-link"
              id="v-pills-Company-tab"
              data-toggle="pill"
              href="#v-pills-Company"
              role="tab"
              aria-controls="v-pills-Company"
              aria-selected="false"
              >Company & Branch Details</a
            >
            <a
              class="nav-link"
              id="v-pills-Preference-tab"
              data-toggle="pill"
              href="#v-pills-Preference"
              role="tab"
              aria-controls="v-pills-Preference"
              aria-selected="false"
              >Preference Settings</a
            >
          </div>
        </div>
        <div class="col-md-8">
          <div class="tab-content" id="v-pills-tabContent">
            <div
              class="tab-pane fade show active"
              id="v-pills-Details"
              role="tabpanel"
              aria-labelledby="v-pills-Details-tab"
            >
              <div class="bd_stepscon">
                <h3>Details</h3>
                <section>
                  <table class="table tx-13 tx-gray-700 bd">
                    <button
                      class="btn btn-success btn-sm add_establishment"
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <tbody>
                      <tr>
                        <td>Company Logo</td>
                        <td>
                          <ng-container
                            *ngIf="userDetails?.com_logo; else noLogoUploaded"
                          >
                            <img
                              class="company-logo"
                              src="{{
                                BACKEND_URL + '/' + userDetails?.com_logo
                              }}"
                            />
                          </ng-container>

                          <ng-template #noLogoUploaded>
                            <img
                              class="company-logo"
                              src="https://via.placeholder.com/500"
                            />
                          </ng-template>

                          <!-- <span class="dbpick-icon" data-toggle="modal" data-target="#compLogoModal"><i class="fa fa-camera"></i></span> -->
                        </td>
                      </tr>

                      <tr>
                        <td>Establishment Name</td>
                        <td>
                          {{
                            userDetails?.com_det?.details.establishment_name ??
                              "N/A"
                          }}
                        </td>
                      </tr>

                      <tr>
                        <td>Corporate ID</td>
                        <td>
                          {{
                            userDetails?.com_det?.details.corporate_id ?? "N/A"
                          }}
                        </td>
                      </tr>

                      <tr>
                        <td>Type</td>
                        <td>
                          {{
                            userDetails?.com_det?.details
                              .establishment_type_name ?? "N/A"
                          }}
                        </td>
                      </tr>

                      <!-- <tr *ngIf="userDetails?.com_det?.details.establishment_reg_certificate">
                                                <td>Documents</td>
                                                <td>
                                                    <a target="_blank" download href="{{BACKEND_URL}}/{{userDetails?.com_det?.details.establishment_reg_certificate}}" class="btn btn-primary btn-icon mg-r-5">
                                                        <div style="width:25px; height:25px;"><i class="fa fa-download"></i></div>
                                                    </a>

                                                    <a target="_blank" href="{{BACKEND_URL}}/{{userDetails?.com_det?.details.establishment_reg_certificate}}" class="btn btn-info btn-icon mg-r-5">
                                                        <div style="width:25px; height:25px;"><i class="fa fa-eye"></i></div>
                                                    </a>

                                                    <a href="#" class="btn btn-info btn-sm">
                                                        <div style="height:18px;">Upload Roc Regt Certificates</div>
                                                    </a>
                                                </td>
                                            </tr> -->
                    </tbody>
                  </table>

                  <div
                    class="from_establishment bd_rightside animate__animated animate__slideInRight"
                  >
                    <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                      <h6 
                      *ngIf="
                      this.AppComponent.checkCompanyModulePermission(
                        {
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        }
                      )
                    " class="tx-gray-800 tx-uppercase tx-bold">
                        Edit
                        <button
                          class="btn btn-info pull-right add_establishment cancel-modal"
                          style="float: right; clear: both"
                        >
                          <i class="fa fa-times"></i>
                        </button>
                      </h6>

                      <p class="tx-gray-600 mg-b-30">Establishment Details</p>

                      <form [formGroup]="companyDetailsForm">
                        <div class="form-group">
                          <label>Company Logo</label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="com_logo"
                            [class.error]="
                              companyDetailsForm.controls.com_logo.dirty ||
                              companyDetailsForm.controls.com_logo.touched
                            "
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyDetailsForm,
                                'com_logo',
                                'com_logo_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyDetailsForm.controls.com_logo.hasError(
                                'required'
                              ) &&
                              (companyDetailsForm.controls.com_logo.dirty ||
                                companyDetailsForm.controls.com_logo.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Establishment Name</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="establishment_name"
                          />
                        </div>

                        <div class="form-group">
                          <label>Corporate ID</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="corporate_id"
                          />
                        </div>

                        <div class="form-group">
                          <label>Type <span class="text-danger">*</span></label>
                          <ngx-select-dropdown
                            formControlName="establishment_type"
                            [options]="establishmentTypeMaster"
                            class="form-control"
                            [config]="{
                              search: false,
                              placeholder: 'Choose One',
                              height: '200px'
                            }"
                          ></ngx-select-dropdown>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyDetailsForm.controls.establishment_type.hasError(
                                'required'
                              ) &&
                              (companyDetailsForm.controls.establishment_type
                                .dirty ||
                                companyDetailsForm.controls.establishment_type
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <!-- <div class="form-group">
                                                    <label>Document </label>
                                                    <input type="file" class="form-control pd-y-12" formControlName="company_reg_certificate" accept="image/*" (change)="onFileChanged($event, companyDetailsForm, 'company_reg_certificate', 'company_reg_certificate_file')">
                                                </div> -->

                        <button
                          [disabled]="!this.AppComponent.checkCompanyModulePermission(
                            {
                              company_module: 'company_profile',
                              company_sub_module:'company_profile',
                              company_sub_operation: ['edit'],
                              company_strict: true
                            }
                          )"
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyDetails($event)"
                        >
                          <span>Save</span>
                        </button>
                      </form>
                    </div>
                  </div>
                </section>

                <div class="bd_actions">
                  <ul>
                    <li class="disabled" aria-disabled="true">
                      <a href="javascript:;" class="btn-prev">Previous</a>
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Partners-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Partners"
              role="tabpanel"
              aria-labelledby="v-pills-Partners-tab"
            >
              <div class="bd_stepscon">
                <h3>Partner Details</h3>
                <section>
                  <ng-container
                    *ngIf="
                      userDetails?.com_det?.partners &&
                        userDetails?.com_det?.partners.length > 0;
                      else noPartnersFound
                    "
                  >
                    <ng-container
                      *ngFor="
                        let item of userDetails?.com_det?.partners;
                        let i = index
                      "
                    >
                      <div class="card mt-3">
                        <a
                          href="#partner-collapse-{{ i }}"
                          role="button"
                          aria-expanded="false"
                          aria-controls="partnerDetailsCollapse"
                          data-toggle="collapse"
                        >
                          <div class="card-header">
                            <h3>
                              {{ item.first_name }} {{ item.last_name }}

                              <button
                                class="btn btn-success btn-sm add_partnerdetails float-right"
                                (click)="editPartner(item)"
                                *ngIf="
                                  this.AppComponent.checkCompanyModulePermission(
                                    {
                                      company_module: 'company_profile',
                                      company_sub_module:'company_profile',
                                      company_sub_operation: ['edit'],
                                      company_strict: true
                                    }
                                  )
                                "
                              >
                                Edit
                              </button>
                            </h3>
                          </div>
                        </a>

                        <div
                          class="bd_section"
                          class="collapse"
                          id="partner-collapse-{{ i }}"
                        >
                          <table class="table tx-13 tx-gray-700 bd mt-0">
                            <tbody>
                              <tr>
                                <td>First Name</td>
                                <td>{{ item.first_name ?? "N/A" }}</td>
                              </tr>
                              <tr>
                                <td>Last Name</td>
                                <td>{{ item.last_name ?? "N/A" }}</td>
                              </tr>
                              <tr>
                                <td>Designation</td>
                                <td>{{ item.designation ?? "N/A" }}</td>
                              </tr>
                              <tr>
                                <td>Date of Appointment</td>
                                <td
                                  *ngIf="
                                    item.date_of_appointment;
                                    else elBNDate
                                  "
                                >
                                  {{
                                    item.date_of_appointment
                                      | date : "dd/MM/yyyy"
                                  }}
                                </td>
                                <ng-template #elBNDate>
                                  <td>N/A</td>
                                </ng-template>
                              </tr>
                              <tr>
                                <td>DIN Number</td>
                                <td>{{ item.din_no ?? "N/A" }}</td>
                              </tr>
                              <tr>
                                <td>Mobile Number</td>
                                <td>{{ item.mobile_no ?? "N/A" }}</td>
                              </tr>

                              <tr>
                                <td>PAN Number</td>
                                <td>
                                  {{ item.pan_no ?? "N/A" }}
                                  <ng-container *ngIf="item.partners_pan_doc">
                                    &nbsp;&nbsp;
                                    <a
                                      target="_blank"
                                      download
                                      href="{{ BACKEND_URL }}/{{
                                        item.partners_pan_doc
                                      }}"
                                      class="btn btn-primary btn-icon mg-r-5"
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-download"></i>
                                      </div>
                                    </a>

                                    <button
                                      class="btn btn-info btn-icon mg-r-5"
                                      (click)="
                                        imageViewer(
                                          BACKEND_URL +
                                            '/' +
                                            item.partners_pan_doc
                                        )
                                      "
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-eye"></i>
                                      </div>
                                    </button>
                                  </ng-container>
                                </td>
                              </tr>

                              <tr>
                                <td>Aadhaar Number</td>
                                <td>
                                  {{ item.aadhaar_no ?? "N/A" }}
                                  <ng-container
                                    *ngIf="item.partners_aadhaar_no"
                                  >
                                    &nbsp;&nbsp;
                                    <a
                                      target="_blank"
                                      download
                                      href="{{ BACKEND_URL }}/{{
                                        item.partners_aadhaar_no
                                      }}"
                                      class="btn btn-primary btn-icon mg-r-5"
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-download"></i>
                                      </div>
                                    </a>

                                    <button
                                      class="btn btn-info btn-icon mg-r-5"
                                      (click)="
                                        imageViewer(
                                          BACKEND_URL +
                                            '/' +
                                            item.partners_aadhaar_no
                                        )
                                      "
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-eye"></i>
                                      </div>
                                    </button>
                                  </ng-container>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </ng-container>
                  </ng-container>

                  <ng-template #noPartnersFound>
                    <div class="card mt-3">
                      <div class="card-header">
                        <h3 class="text-center">No Partners Found</h3>
                      </div>
                    </div>
                  </ng-template>

                  <div
                    class="from_pardetails bd_rightside animate__animated animate__slideInRight"
                  >
                    <form [formGroup]="companyPartnersForm">
                      <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                        <h6 class="tx-gray-800 tx-uppercase tx-bold">
                          <ng-container
                            *ngIf="
                              companyPartnerEditActionId;
                              else companyAddTextBlock
                            "
                          >
                            Edit
                          </ng-container>

                          <ng-template #companyAddTextBlock> Add </ng-template>

                          <button
                            class="btn btn-info pull-right"
                            type="button"
                            style="float: right; clear: both"
                            (click)="cancelPartnerEntry()"
                          >
                            <i class="fa fa-times"></i>
                          </button>
                        </h6>

                        <p class="tx-gray-600 mg-b-30">Partner Details</p>

                        <div class="form-group">
                          <label
                            >First Name&nbsp;<span class="text-danger"
                              >*</span
                            ></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="first_name"
                            [class.error]="
                              companyPartnersForm.controls.first_name.dirty ||
                              companyPartnersForm.controls.first_name.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.first_name.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.first_name.dirty ||
                                companyPartnersForm.controls.first_name.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label
                            >Last Name&nbsp;<span class="text-danger"
                              >*</span
                            ></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="last_name"
                            [class.error]="
                              companyPartnersForm.controls.last_name.dirty ||
                              companyPartnersForm.controls.last_name.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.last_name.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.last_name.dirty ||
                                companyPartnersForm.controls.last_name.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Designation</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="designation"
                            [class.error]="
                              companyPartnersForm.controls.designation.dirty ||
                              companyPartnersForm.controls.designation.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.designation.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.designation.dirty ||
                                companyPartnersForm.controls.designation
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>DIN Number</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="din_no"
                            [class.error]="
                              companyPartnersForm.controls.din_no.dirty ||
                              companyPartnersForm.controls.din_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.din_no.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.din_no.dirty ||
                                companyPartnersForm.controls.din_no.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.din_no.hasError(
                                'pattern'
                              ) &&
                              (companyPartnersForm.controls.din_no.dirty ||
                                companyPartnersForm.controls.din_no.touched)
                            "
                          >
                            Enter valid DIN Number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Date of Appointment</label>
                          <dp-date-picker
                            class="form-control"
                            [config]="{
                              disableKeypress: true,
                              format: 'MM/DD/YYYY'
                            }"
                            formControlName="date_of_appointment"
                            theme="dp-material"
                            attachTo=".mat-input-wrapper"
                            [class.error]="
                              companyPartnersForm.controls.date_of_appointment
                                .dirty ||
                              companyPartnersForm.controls.date_of_appointment
                                .touched
                            "
                          ></dp-date-picker>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.date_of_appointment.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.date_of_appointment
                                .dirty ||
                                companyPartnersForm.controls.date_of_appointment
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label
                            >Mobile Number&nbsp;<span class="text-danger"
                              >*</span
                            ></label
                          >

                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="mobile_no"
                            [class.error]="
                              companyPartnersForm.controls.mobile_no.dirty ||
                              companyPartnersForm.controls.mobile_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.mobile_no.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.mobile_no.dirty ||
                                companyPartnersForm.controls.mobile_no.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              (companyPartnersForm.controls.mobile_no.hasError(
                                'pattern'
                              ) ||
                                companyPartnersForm.controls.mobile_no.hasError(
                                  'minlength'
                                ) ||
                                companyPartnersForm.controls.mobile_no.hasError(
                                  'maxlength'
                                )) &&
                              (companyPartnersForm.controls.mobile_no.dirty ||
                                companyPartnersForm.controls.mobile_no.touched)
                            "
                          >
                            Please enter a valid mobile number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>PAN Number </label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="pan_no"
                            [class.error]="
                              companyPartnersForm.controls.pan_no.dirty ||
                              companyPartnersForm.controls.pan_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.pan_no.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.pan_no.dirty ||
                                companyPartnersForm.controls.pan_no.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.pan_no.hasError(
                                'pattern'
                              ) &&
                              (companyPartnersForm.controls.pan_no.dirty ||
                                companyPartnersForm.controls.pan_no.touched)
                            "
                          >
                            Please enter a valid PAN number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload PAN Card </label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="partners_pan_doc"
                            [class.error]="
                              companyPartnersForm.controls.partners_pan_doc
                                .dirty ||
                              companyPartnersForm.controls.partners_pan_doc
                                .touched
                            "
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyPartnersForm,
                                'partners_pan_doc',
                                'partners_pan_doc_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.partners_pan_doc.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.partners_pan_doc
                                .dirty ||
                                companyPartnersForm.controls.partners_pan_doc
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Aadhar Number</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="aadhaar_no"
                            [class.error]="
                              companyPartnersForm.controls.aadhaar_no.dirty ||
                              companyPartnersForm.controls.aadhaar_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.aadhaar_no.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.aadhaar_no.dirty ||
                                companyPartnersForm.controls.aadhaar_no.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.aadhaar_no.hasError(
                                'pattern'
                              ) &&
                              (companyPartnersForm.controls.aadhaar_no.dirty ||
                                companyPartnersForm.controls.aadhaar_no.touched)
                            "
                          >
                            Please enter a valid Aadhar number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload Aadhar Card </label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="partners_aadhaar_no"
                            [class.error]="
                              companyPartnersForm.controls.partners_aadhaar_no
                                .dirty ||
                              companyPartnersForm.controls.partners_aadhaar_no
                                .touched
                            "
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyPartnersForm,
                                'partners_aadhaar_no',
                                'partners_aadhaar_no_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPartnersForm.controls.partners_aadhaar_no.hasError(
                                'required'
                              ) &&
                              (companyPartnersForm.controls.partners_aadhaar_no
                                .dirty ||
                                companyPartnersForm.controls.partners_aadhaar_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyPartner($event)"
                        >
                          <span>Save</span>
                        </button>
                      </div>
                    </form>
                  </div>
                </section>

                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Details-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="addPartner()"
                        class="btn-next skip-popup"
                        *ngIf="
                          this.AppComponent.checkCompanyModulePermission({
                            company_module: 'company_profile',
                          company_sub_module:'company_profile',
                            company_sub_operation: ['add'],
                            company_strict: true
                          })
                        "
                        >Add Partner</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Establishment-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Establishment"
              role="tabpanel"
              aria-labelledby="v-pills-Establishment-tab"
            >
              <div class="bd_stepscon">
                <h3>Establishment Details</h3>
                <section>
                  <div class="bd_section">
                    <button
                      class="btn btn-success btn-sm add_establishmentdetails"
                      (click)="
                        editEstablishment(userDetails?.com_det?.establishment)
                      "
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <table class="table tx-13 tx-gray-700 bd mt-2">
                      <tbody>
                        <tr>
                          <td>Nature of business</td>
                          <td>
                            {{
                              userDetails?.com_det?.establishment
                                ?.nature_of_business ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Date of incorporation</td>
                          <td
                            *ngIf="
                              userDetails?.com_det?.establishment
                                ?.date_of_incorporation;
                              else elBNDate
                            "
                          >
                            {{
                              userDetails?.com_det?.establishment
                                ?.date_of_incorporation | date : "dd/MM/yyyy"
                            }}
                          </td>
                          <ng-template #elBNDate>
                            <td>N/A</td>
                          </ng-template>
                        </tr>
                        <tr>
                          <td>Trade Licence no</td>
                          <td>
                            {{
                              userDetails?.com_det?.establishment
                                ?.trade_licence_no ?? "N/A"
                            }}

                            <ng-container
                              *ngIf="
                                userDetails?.com_det?.establishment
                                  ?.trade_Licence_doc
                              "
                            >
                              &nbsp;&nbsp;
                              <a
                                target="_blank"
                                download
                                href="{{ BACKEND_URL }}/{{
                                  userDetails?.com_det?.establishment
                                    ?.trade_Licence_doc
                                }}"
                                class="btn btn-primary btn-icon mg-r-5"
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-download"></i>
                                </div>
                              </a>

                              <button
                                class="btn btn-info btn-icon mg-r-5"
                                (click)="
                                  imageViewer(
                                    BACKEND_URL +
                                      '/' +
                                      userDetails?.com_det?.establishment
                                        ?.trade_Licence_doc
                                  )
                                "
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-eye"></i>
                                </div>
                              </button>
                            </ng-container>
                          </td>
                        </tr>
                        <tr>
                          <td>GST Number</td>
                          <td>
                            {{
                              userDetails?.com_det?.establishment?.gst_no ??
                                "N/A"
                            }}

                            <ng-container
                              *ngIf="
                                userDetails?.com_det?.establishment?.gst_doc
                              "
                            >
                              &nbsp;&nbsp;
                              <a
                                target="_blank"
                                download
                                href="{{ BACKEND_URL }}/{{
                                  userDetails?.com_det?.establishment?.gst_doc
                                }}"
                                class="btn btn-primary btn-icon mg-r-5"
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-download"></i>
                                </div>
                              </a>

                              <button
                                class="btn btn-info btn-icon mg-r-5"
                                (click)="
                                  imageViewer(
                                    BACKEND_URL +
                                      '/' +
                                      userDetails?.com_det?.establishment
                                        ?.gst_doc
                                  )
                                "
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-eye"></i>
                                </div>
                              </button>
                            </ng-container>
                          </td>
                        </tr>
                        <tr>
                          <td>PAN Number</td>
                          <td>
                            {{
                              userDetails?.com_det?.establishment
                                ?.pan_numberc ?? "N/A"
                            }}

                            <ng-container
                              *ngIf="
                                userDetails?.com_det?.establishment
                                  ?.pan_numberc_doc
                              "
                            >
                              &nbsp;&nbsp;
                              <a
                                target="_blank"
                                download
                                href="{{ BACKEND_URL }}/{{
                                  userDetails?.com_det?.establishment
                                    ?.pan_numberc_doc
                                }}"
                                class="btn btn-primary btn-icon mg-r-5"
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-download"></i>
                                </div>
                              </a>

                              <button
                                class="btn btn-info btn-icon mg-r-5"
                                (click)="
                                  imageViewer(
                                    BACKEND_URL +
                                      '/' +
                                      userDetails?.com_det?.establishment
                                        ?.pan_numberc_doc
                                  )
                                "
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-eye"></i>
                                </div>
                              </button>
                            </ng-container>
                          </td>
                        </tr>
                        <tr>
                          <td>TAN Number</td>
                          <td>
                            {{
                              userDetails?.com_det?.establishment?.tan_number ??
                                "N/A"
                            }}

                            <ng-container
                              *ngIf="
                                userDetails?.com_det?.establishment
                                  ?.tan_number_doc
                              "
                            >
                              &nbsp;&nbsp;
                              <a
                                target="_blank"
                                download
                                href="{{ BACKEND_URL }}/{{
                                  userDetails?.com_det?.establishment
                                    ?.tan_number_doc
                                }}"
                                class="btn btn-primary btn-icon mg-r-5"
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-download"></i>
                                </div>
                              </a>

                              <button
                                class="btn btn-info btn-icon mg-r-5"
                                (click)="
                                  imageViewer(
                                    BACKEND_URL +
                                      '/' +
                                      userDetails?.com_det?.establishment
                                        ?.tan_number_doc
                                  )
                                "
                              >
                                <div style="width: 25px; height: 25px">
                                  <i class="fa fa-eye"></i>
                                </div>
                              </button>
                            </ng-container>
                          </td>
                        </tr>
                        <tr>
                          <td>Mobile No</td>
                          <td>
                            {{
                              userDetails?.com_det?.establishment?.mobile_no ??
                                "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Email Id</td>
                          <td>
                            {{
                              userDetails?.com_det?.establishment?.email_id ??
                                "N/A"
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div
                    class="from_establishmentdetails bd_rightside animate__animated animate__slideInRight"
                  >
                    <form [formGroup]="companyEstablishmentForm">
                      <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                        <h6 class="tx-gray-800 tx-uppercase tx-bold">
                          <ng-container
                            *ngIf="
                              companyEstablishmentEditActionId;
                              else companyAddTextBlock
                            "
                          >
                            Edit
                          </ng-container>

                          <ng-template #companyAddTextBlock> Add </ng-template>

                          <button
                            class="btn btn-info pull-right"
                            type="button"
                            style="float: right; clear: both"
                            (click)="cancelEstablishmentEntry()"
                          >
                            <i class="fa fa-times"></i>
                          </button>
                        </h6>

                        <p class="tx-gray-600 mg-b-30">Establishment Details</p>

                        <div class="form-group">
                          <label>Nature of business</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="nature_of_business"
                            [class.error]="
                              companyEstablishmentForm.controls
                                .nature_of_business.dirty ||
                              companyEstablishmentForm.controls
                                .nature_of_business.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.nature_of_business.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls
                                .nature_of_business.dirty ||
                                companyEstablishmentForm.controls
                                  .nature_of_business.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Date of incorporation</label>
                          <input type="date" formControlName="date_of_incorporation" class="form-control" [class.error]="
                          companyEstablishmentForm.controls
                            .date_of_incorporation.dirty ||
                          companyEstablishmentForm.controls
                            .date_of_incorporation.touched
                        ">
                          <!-- <dp-date-picker
                            class="form-control"
                            [config]="{
                              disableKeypress: false,
                              format: 'MM/DD/YYYY'
                            }"
                            formControlName="date_of_incorporation"
                            theme="dp-material"

                            attachTo=".mat-input-wrapper"
                            [class.error]="
                              companyEstablishmentForm.controls
                                .date_of_incorporation.dirty ||
                              companyEstablishmentForm.controls
                                .date_of_incorporation.touched
                            "
                          ></dp-date-picker> -->
                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.date_of_incorporation.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls
                                .date_of_incorporation.dirty ||
                                companyEstablishmentForm.controls
                                  .date_of_incorporation.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Trade Licence no </label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="trade_licence_no"
                            [class.error]="
                              companyEstablishmentForm.controls.trade_licence_no
                                .dirty ||
                              companyEstablishmentForm.controls.trade_licence_no
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.trade_licence_no.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls
                                .trade_licence_no.dirty ||
                                companyEstablishmentForm.controls
                                  .trade_licence_no.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.trade_licence_no.hasError(
                                'pattern'
                              ) &&
                              (companyEstablishmentForm.controls
                                .trade_licence_no.dirty ||
                                companyEstablishmentForm.controls
                                  .trade_licence_no.touched)
                            "
                          >
                            Please enter a valid Trade License number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload Trade Licence </label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="trade_Licence_doc"
                            [class.error]="
                              companyEstablishmentForm.controls
                                .trade_Licence_doc.dirty ||
                              companyEstablishmentForm.controls
                                .trade_Licence_doc.touched
                            "
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyEstablishmentForm,
                                'trade_Licence_doc',
                                'trade_Licence_doc_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.trade_Licence_doc.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls
                                .trade_Licence_doc.dirty ||
                                companyEstablishmentForm.controls
                                  .trade_Licence_doc.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>GST no</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="gst_no"
                            [class.error]="
                              companyEstablishmentForm.controls.gst_no.dirty ||
                              companyEstablishmentForm.controls.gst_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.gst_no.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.gst_no.dirty ||
                                companyEstablishmentForm.controls.gst_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.gst_no.hasError(
                                'pattern'
                              ) &&
                              (companyEstablishmentForm.controls.gst_no.dirty ||
                                companyEstablishmentForm.controls.gst_no
                                  .touched)
                            "
                          >
                            Please enter a valid GST number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload GST </label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="gst_doc"
                            [class.error]="
                              companyEstablishmentForm.controls.gst_doc.dirty ||
                              companyEstablishmentForm.controls.gst_doc.touched
                            "
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyEstablishmentForm,
                                'gst_doc',
                                'gst_doc_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.gst_doc.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.gst_doc
                                .dirty ||
                                companyEstablishmentForm.controls.gst_doc
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>PAN no</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="pan_numberc"
                            [class.error]="
                              companyEstablishmentForm.controls.pan_numberc
                                .dirty ||
                              companyEstablishmentForm.controls.pan_numberc
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.pan_numberc.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.pan_numberc
                                .dirty ||
                                companyEstablishmentForm.controls.pan_numberc
                                  .touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.pan_numberc.hasError(
                                'pattern'
                              ) &&
                              (companyEstablishmentForm.controls.pan_numberc
                                .dirty ||
                                companyEstablishmentForm.controls.pan_numberc
                                  .touched)
                            "
                          >
                            Please enter a valid PAN number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload PAN </label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            [class.error]="
                              companyEstablishmentForm.controls.pan_numberc_doc
                                .dirty ||
                              companyEstablishmentForm.controls.pan_numberc_doc
                                .touched
                            "
                            formControlName="pan_numberc_doc"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyEstablishmentForm,
                                'pan_numberc_doc',
                                'pan_numberc_doc_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.pan_numberc_doc.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.pan_numberc_doc
                                .dirty ||
                                companyEstablishmentForm.controls
                                  .pan_numberc_doc.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>TAN no</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="tan_number"
                            [class.error]="
                              companyEstablishmentForm.controls.tan_number
                                .dirty ||
                              companyEstablishmentForm.controls.tan_number
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.tan_number.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.tan_number
                                .dirty ||
                                companyEstablishmentForm.controls.tan_number
                                  .touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.tan_number.hasError(
                                'pattern'
                              ) &&
                              (companyEstablishmentForm.controls.tan_number
                                .dirty ||
                                companyEstablishmentForm.controls.tan_number
                                  .touched)
                            "
                          >
                            Please enter a valid TAN number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload TAN </label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            [class.error]="
                              companyEstablishmentForm.controls.tan_number_doc
                                .dirty ||
                              companyEstablishmentForm.controls.tan_number_doc
                                .touched
                            "
                            formControlName="tan_number_doc"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyEstablishmentForm,
                                'tan_number_doc',
                                'tan_number_doc_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.tan_number_doc.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.tan_number_doc
                                .dirty ||
                                companyEstablishmentForm.controls.tan_number_doc
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Mobile Number</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="mobile_no"
                            [class.error]="
                              companyEstablishmentForm.controls.mobile_no
                                .dirty ||
                              companyEstablishmentForm.controls.mobile_no
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.mobile_no.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.mobile_no
                                .dirty ||
                                companyEstablishmentForm.controls.mobile_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              (companyEstablishmentForm.controls.mobile_no.hasError(
                                'pattern'
                              ) ||
                                companyEstablishmentForm.controls.mobile_no.hasError(
                                  'minlength'
                                ) ||
                                companyEstablishmentForm.controls.mobile_no.hasError(
                                  'maxlength'
                                )) &&
                              (companyEstablishmentForm.controls.mobile_no
                                .dirty ||
                                companyEstablishmentForm.controls.mobile_no
                                  .touched)
                            "
                          >
                            Please enter a valid mobile number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Email Address</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="email_id"
                            [class.error]="
                              companyEstablishmentForm.controls.email_id
                                .dirty ||
                              companyEstablishmentForm.controls.email_id.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.email_id.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.email_id
                                .dirty ||
                                companyEstablishmentForm.controls.email_id
                                  .touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.email_id.hasError(
                                'email'
                              ) &&
                              (companyEstablishmentForm.controls.email_id
                                .dirty ||
                                companyEstablishmentForm.controls.email_id
                                  .touched)
                            "
                          >
                            Please enter a valid email address
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Landline Number</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="land_line"
                            [class.error]="
                              companyEstablishmentForm.controls.land_line
                                .dirty ||
                              companyEstablishmentForm.controls.land_line
                                .touched
                            "
                            placeholder=""
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.land_line.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.land_line
                                .dirty ||
                                companyEstablishmentForm.controls.land_line
                                  .touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.land_line.hasError(
                                'pattern'
                              ) &&
                              (companyEstablishmentForm.controls.land_line
                                .dirty ||
                                companyEstablishmentForm.controls.land_line
                                  .touched)
                            "
                          >
                            Please enter a valid landline number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Alternate Email ID</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="alternate_email_id"
                            [class.error]="
                              companyEstablishmentForm.controls
                                .alternate_email_id.dirty ||
                              companyEstablishmentForm.controls
                                .alternate_email_id.touched
                            "
                            placeholder=""
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.alternate_email_id.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls
                                .alternate_email_id.dirty ||
                                companyEstablishmentForm.controls
                                  .alternate_email_id.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.alternate_email_id.hasError(
                                'email'
                              ) &&
                              (companyEstablishmentForm.controls
                                .alternate_email_id.dirty ||
                                companyEstablishmentForm.controls
                                  .alternate_email_id.touched)
                            "
                          >
                            Please enter a valid emaill address
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Website</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="website"
                            [class.error]="
                              companyEstablishmentForm.controls.website.dirty ||
                              companyEstablishmentForm.controls.website.touched
                            "
                            placeholder=""
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEstablishmentForm.controls.website.hasError(
                                'required'
                              ) &&
                              (companyEstablishmentForm.controls.website
                                .dirty ||
                                companyEstablishmentForm.controls.website
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyEstablishment($event)"
                        >
                          <span>Save</span>
                        </button>
                      </div>
                    </form>
                  </div>
                </section>

                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Partners-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <!-- <li aria-hidden="false" aria-disabled="false">
                                            <a href="javascript:;" (click)="addEstablishment()" class="btn-next">Add Establishment</a>
                                        </li> -->
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Registered-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Registered"
              role="tabpanel"
              aria-labelledby="v-pills-Registered-tab"
            >
              <div class="bd_stepscon">
                <h3>Registered Office Address</h3>
                <section>
                  <div class="bd_section">
                    <button
                      class="btn btn-success btn-sm add_regofficeadd"
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <table class="table tx-13 tx-gray-700 bd mt-2">
                      <tbody>
                        <tr>
                          <td>Door No</td>
                          <td>
                            {{
                              userDetails?.com_det?.reg_office_address
                                .door_no ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Street Name</td>
                          <td>
                            {{
                              userDetails?.com_det?.reg_office_address
                                .street_name ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Locality</td>
                          <td>
                            {{
                              userDetails?.com_det?.reg_office_address
                                .locality ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>District Name</td>
                          <td>
                            {{
                              userDetails?.com_det?.reg_office_address
                                .district_name ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>State</td>
                          <td>
                            {{
                              userDetails?.com_det?.reg_office_address.state ??
                                "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Pin Code</td>
                          <td>
                            {{
                              userDetails?.com_det?.reg_office_address
                                .pin_code ?? "N/A"
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div
                    class="from_regofficeadd bd_rightside animate__animated animate__slideInRight"
                  >
                    <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                      <h6 class="tx-gray-800 tx-uppercase tx-bold">
                        Edit
                        <button
                          class="btn btn-info pull-right add_regofficeadd cancel-modal"
                          style="float: right; clear: both"
                        >
                          <i class="fa fa-times"></i>
                        </button>
                      </h6>

                      <p class="tx-gray-600 mg-b-30">
                        Registered Office Address
                      </p>

                      <form [formGroup]="companyRegOfficeAddressForm">
                        <div class="form-group">
                          <label
                            >Door No <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="door_no"
                            [class.error]="
                              companyRegOfficeAddressForm.controls.door_no
                                .dirty ||
                              companyRegOfficeAddressForm.controls.door_no
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyRegOfficeAddressForm.controls.door_no.hasError(
                                'required'
                              ) &&
                              (companyRegOfficeAddressForm.controls.door_no
                                .dirty ||
                                companyRegOfficeAddressForm.controls.door_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >Street Name
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="street_name"
                            [class.error]="
                              companyRegOfficeAddressForm.controls.street_name
                                .dirty ||
                              companyRegOfficeAddressForm.controls.street_name
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyRegOfficeAddressForm.controls.street_name.hasError(
                                'required'
                              ) &&
                              (companyRegOfficeAddressForm.controls.street_name
                                .dirty ||
                                companyRegOfficeAddressForm.controls.street_name
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >Locality <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="locality"
                            [class.error]="
                              companyRegOfficeAddressForm.controls.locality
                                .dirty ||
                              companyRegOfficeAddressForm.controls.locality
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyRegOfficeAddressForm.controls.locality.hasError(
                                'required'
                              ) &&
                              (companyRegOfficeAddressForm.controls.locality
                                .dirty ||
                                companyRegOfficeAddressForm.controls.locality
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >District Name
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="district_name"
                            [class.error]="
                              companyRegOfficeAddressForm.controls.district_name
                                .dirty ||
                              companyRegOfficeAddressForm.controls.district_name
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyRegOfficeAddressForm.controls.district_name.hasError(
                                'required'
                              ) &&
                              (companyRegOfficeAddressForm.controls
                                .district_name.dirty ||
                                companyRegOfficeAddressForm.controls
                                  .district_name.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >State <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="state"
                            [class.error]="
                              companyRegOfficeAddressForm.controls.state
                                .dirty ||
                              companyRegOfficeAddressForm.controls.state.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyRegOfficeAddressForm.controls.state.hasError(
                                'required'
                              ) &&
                              (companyRegOfficeAddressForm.controls.state
                                .dirty ||
                                companyRegOfficeAddressForm.controls.state
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >Pin Code <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="pin_code"
                            [class.error]="
                              companyRegOfficeAddressForm.controls.pin_code
                                .dirty ||
                              companyRegOfficeAddressForm.controls.pin_code
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyRegOfficeAddressForm.controls.pin_code.hasError(
                                'required'
                              ) &&
                                (companyRegOfficeAddressForm.controls.pin_code
                                  .dirty ||
                                  companyRegOfficeAddressForm.controls.pin_code
                                    .touched);
                              else validPincodeBlock
                            "
                          >
                            This field is required
                          </p>

                          <ng-template #validPincodeBlock>
                            <p
                              class="mt-1 text-danger"
                              *ngIf="
                                (companyRegOfficeAddressForm.controls.pin_code.hasError(
                                  'required'
                                ) ||
                                  companyRegOfficeAddressForm.controls.pin_code.hasError(
                                    'minlength'
                                  ) ||
                                  companyRegOfficeAddressForm.controls.pin_code.hasError(
                                    'maxlength'
                                  ) ||
                                  companyRegOfficeAddressForm.controls.pin_code.hasError(
                                    'pattern'
                                  )) &&
                                (companyRegOfficeAddressForm.controls.pin_code
                                  .dirty ||
                                  companyRegOfficeAddressForm.controls.pin_code
                                    .touched)
                              "
                            >
                              Please enter a valid pincode
                            </p>
                          </ng-template>
                        </div>
                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyRegOfficeAddress($event)"
                        >
                          <span>Save</span>
                        </button>
                      </form>
                    </div>
                  </div>
                </section>
                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Establishment-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Communication-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Communication"
              role="tabpanel"
              aria-labelledby="v-pills-Communication-tab"
            >
              <div class="bd_stepscon">
                <h3>Communication Office Address</h3>
                <section>
                  <div class="bd_section">
                    <button
                      class="btn btn-success btn-sm add_commofficeadd"
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <table class="table tx-13 tx-gray-700 bd mt-2">
                      <tbody>
                        <tr>
                          <td>Door No</td>
                          <td>
                            {{
                              userDetails?.com_det?.communication_office_address
                                .door_no ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Street Name</td>
                          <td>
                            {{
                              userDetails?.com_det?.communication_office_address
                                .street_name ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Locality</td>
                          <td>
                            {{
                              userDetails?.com_det?.communication_office_address
                                .locality ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>District Name</td>
                          <td>
                            {{
                              userDetails?.com_det?.communication_office_address
                                .district_name ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>State</td>
                          <td>
                            {{
                              userDetails?.com_det?.communication_office_address
                                .state ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Pin Code</td>
                          <td>
                            {{
                              userDetails?.com_det?.communication_office_address
                                .pin_code ?? "N/A"
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div
                    class="from_commofficeadd bd_rightside animate__animated animate__slideInRight"
                  >
                    <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                      <h6 class="tx-gray-800 tx-uppercase tx-bold">
                        Edit
                        <button
                          class="btn btn-info pull-right add_commofficeadd cancel-modal"
                          style="float: right; clear: both"
                        >
                          <i class="fa fa-times"></i>
                        </button>
                      </h6>

                      <p class="tx-gray-600 mg-b-30">
                        Communication Office Address
                      </p>

                      <form [formGroup]="companyCommOfficeAddressForm">
                        <div class="form-group">
                          <label
                            >Door No <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="door_no"
                            [class.error]="
                              companyCommOfficeAddressForm.controls.door_no
                                .dirty ||
                              companyCommOfficeAddressForm.controls.door_no
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyCommOfficeAddressForm.controls.door_no.hasError(
                                'required'
                              ) &&
                              (companyCommOfficeAddressForm.controls.door_no
                                .dirty ||
                                companyCommOfficeAddressForm.controls.door_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >Street Name
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="street_name"
                            [class.error]="
                              companyCommOfficeAddressForm.controls.street_name
                                .dirty ||
                              companyCommOfficeAddressForm.controls.street_name
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyCommOfficeAddressForm.controls.street_name.hasError(
                                'required'
                              ) &&
                              (companyCommOfficeAddressForm.controls.street_name
                                .dirty ||
                                companyCommOfficeAddressForm.controls
                                  .street_name.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >Locality <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="locality"
                            [class.error]="
                              companyCommOfficeAddressForm.controls.locality
                                .dirty ||
                              companyCommOfficeAddressForm.controls.locality
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyCommOfficeAddressForm.controls.locality.hasError(
                                'required'
                              ) &&
                              (companyCommOfficeAddressForm.controls.locality
                                .dirty ||
                                companyCommOfficeAddressForm.controls.locality
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >District Name
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="district_name"
                            [class.error]="
                              companyCommOfficeAddressForm.controls
                                .district_name.dirty ||
                              companyCommOfficeAddressForm.controls
                                .district_name.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyCommOfficeAddressForm.controls.district_name.hasError(
                                'required'
                              ) &&
                              (companyCommOfficeAddressForm.controls
                                .district_name.dirty ||
                                companyCommOfficeAddressForm.controls
                                  .district_name.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >State <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="state"
                            [class.error]="
                              companyCommOfficeAddressForm.controls.state
                                .dirty ||
                              companyCommOfficeAddressForm.controls.state
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyCommOfficeAddressForm.controls.state.hasError(
                                'required'
                              ) &&
                              (companyCommOfficeAddressForm.controls.state
                                .dirty ||
                                companyCommOfficeAddressForm.controls.state
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >Pin Code <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="pin_code"
                            [class.error]="
                              companyCommOfficeAddressForm.controls.pin_code
                                .dirty ||
                              companyCommOfficeAddressForm.controls.pin_code
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyCommOfficeAddressForm.controls.pin_code.hasError(
                                'required'
                              ) &&
                                (companyCommOfficeAddressForm.controls.pin_code
                                  .dirty ||
                                  companyCommOfficeAddressForm.controls.pin_code
                                    .touched);
                              else validCommPincodeBlock
                            "
                          >
                            This field is required
                          </p>

                          <ng-template #validCommPincodeBlock>
                            <p
                              class="mt-1 text-danger"
                              *ngIf="
                                (companyCommOfficeAddressForm.controls.pin_code.hasError(
                                  'required'
                                ) ||
                                  companyCommOfficeAddressForm.controls.pin_code.hasError(
                                    'minlength'
                                  ) ||
                                  companyCommOfficeAddressForm.controls.pin_code.hasError(
                                    'maxlength'
                                  ) ||
                                  companyCommOfficeAddressForm.controls.pin_code.hasError(
                                    'pattern'
                                  )) &&
                                (companyCommOfficeAddressForm.controls.pin_code
                                  .dirty ||
                                  companyCommOfficeAddressForm.controls.pin_code
                                    .touched)
                              "
                            >
                              Please enter a valid pincode
                            </p>
                          </ng-template>
                        </div>
                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyCommOfficeAddress($event)"
                        >
                          <span>Save</span>
                        </button>
                      </form>
                    </div>
                  </div>
                </section>
                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Registered-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <!-- <li aria-hidden="false" aria-disabled="false">
                                            <a href="javascript:;" (click)="clickOnTabNav('v-pills-Provident-tab')" class="btn-next">Next</a>
                                        </li> -->

                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Company-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Provident"
              role="tabpanel"
              aria-labelledby="v-pills-Provident-tab"
            >
              <div class="bd_stepscon">
                <h3>Employer’s Provident Fund (EPF)</h3>
                <section>
                  <div class="bd_section">
                    <button
                      class="btn btn-success btn-sm add-pf"
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <table class="table tx-13 tx-gray-700 bd mt-2">
                      <tbody>
                        <tr>
                          <td>Registration No.</td>
                          <td>
                            {{
                              userDetails?.com_det?.epf.registration_no ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Group No.</td>
                          <td>
                            {{ userDetails?.com_det?.epf.group_no ?? "N/A" }}
                          </td>
                        </tr>
                        <tr>
                          <td>PF ACT Apply</td>
                          <td class="text-uppercase">
                            {{
                              userDetails?.com_det?.epf.pf_rule_apply ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Lin No.</td>
                          <td>
                            {{ userDetails?.com_det?.epf.lin_no ?? "N/A" }}
                          </td>
                        </tr>
                        <!-- <tr>
                                                    <td>Login ID</td>
                                                    <td>{{ userDetails?.com_det?.epf.login_id ?? 'N/A' }}</td>
                                                </tr> -->
                        <!-- <tr>
                                                    <td>Password</td>
                                                    <td>{{ userDetails?.com_det?.epf.password ?? 'N/A' }}</td>
                                                </tr> -->
                        <tr>
                          <td>Note</td>
                          <td>
                            {{ userDetails?.com_det?.epf.note_box ?? "N/A" }}
                          </td>
                        </tr>
                        <tr>
                          <td>Regional Office Address</td>
                          <td>
                            {{
                              userDetails?.com_det?.epf
                                .regional_office_address ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr *ngIf="userDetails?.com_det?.epf.pf_certificate">
                          <td>PF Certificate</td>
                          <td>
                            <a
                              target="_blank"
                              download
                              href="{{ BACKEND_URL }}/{{
                                userDetails?.com_det?.epf.pf_certificate
                              }}"
                              class="btn btn-primary btn-icon mg-r-5"
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-download"></i>
                              </div>
                            </a>

                            <button
                              class="btn btn-info btn-icon mg-r-5"
                              (click)="
                                imageViewer(
                                  BACKEND_URL +
                                    '/' +
                                    userDetails?.com_det?.epf.pf_certificate
                                )
                              "
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-eye"></i>
                              </div>
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div class="from-pf animate__animated animate__slideInRight">
                    <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                      <h6 class="tx-gray-800 tx-uppercase tx-bold">
                        Edit
                        <button
                          class="btn btn-info pull-right form-close-pf cancel-modal"
                          style="float: right; clear: both"
                        >
                          <i class="fa fa-times"></i>
                        </button>
                      </h6>

                      <p class="tx-gray-600 mg-b-30">
                        Employer’s Provident Fund (EPF)
                      </p>

                      <form [formGroup]="companyEpfForm">
                        <div class="form-group">
                          <label
                            >Registration No.
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            placeholder=""
                            formControlName="registration_no"
                            [class.error]="
                              companyEpfForm.controls.registration_no.dirty ||
                              companyEpfForm.controls.registration_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEpfForm.controls.registration_no.hasError(
                                'required'
                              ) &&
                              (companyEpfForm.controls.registration_no.dirty ||
                                companyEpfForm.controls.registration_no.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label
                            >GROUP No. <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            placeholder=""
                            formControlName="group_no"
                            [class.error]="
                              companyEpfForm.controls.group_no.dirty ||
                              companyEpfForm.controls.group_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEpfForm.controls.group_no.hasError(
                                'required'
                              ) &&
                              (companyEpfForm.controls.group_no.dirty ||
                                companyEpfForm.controls.group_no.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label
                            >PF ACT Apply
                            <span class="text-danger">*</span></label
                          >
                          <ngx-select-dropdown
                            formControlName="pf_rule_apply"
                            [options]="pfRuleApplyMaster"
                            class="form-control"
                            [config]="{
                              search: false,
                              placeholder: 'Choose One',
                              height: '200px'
                            }"
                            [class.error]="
                              companyEpfForm.controls.pf_rule_apply.dirty ||
                              companyEpfForm.controls.pf_rule_apply.touched
                            "
                          ></ngx-select-dropdown>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEpfForm.controls.pf_rule_apply.hasError(
                                'required'
                              ) &&
                              (companyEpfForm.controls.pf_rule_apply.dirty ||
                                companyEpfForm.controls.pf_rule_apply.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group pf-rule-fields">
                          <label
                            >PF Rule <span class="text-danger">*</span></label
                          >
                          <ngx-select-dropdown
                            formControlName="pf_rule"
                            [options]="pfRuleMaster"
                            class="form-control"
                            [config]="{
                              search: false,
                              placeholder: 'Choose One',
                              height: '200px'
                            }"
                            [class.error]="
                              companyEpfForm.controls.pf_rule.dirty ||
                              companyEpfForm.controls.pf_rule.touched
                            "
                          ></ngx-select-dropdown>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEpfForm.controls.pf_rule.hasError(
                                'required'
                              ) &&
                              (companyEpfForm.controls.pf_rule.dirty ||
                                companyEpfForm.controls.pf_rule.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label
                            >LIN No. <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            placeholder=""
                            formControlName="lin_no"
                            [class.error]="
                              companyEpfForm.controls.lin_no.dirty ||
                              companyEpfForm.controls.lin_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEpfForm.controls.lin_no.hasError(
                                'required'
                              ) &&
                              (companyEpfForm.controls.lin_no.dirty ||
                                companyEpfForm.controls.lin_no.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <!-- <div class="form-group">
                                                    <label>Login ID <span class="text-danger">*</span></label>
                                                    <input type="text" class="form-control pd-y-12" placeholder="" formControlName="login_id" [class.error]="companyEpfForm.controls.login_id.dirty || companyEpfForm.controls.login_id.touched">

                                                    <p class="mt-1 text-danger" *ngIf="companyEpfForm.controls.login_id.hasError('required') && ( companyEpfForm.controls.login_id.dirty || companyEpfForm.controls.login_id.touched )">This field is required</p>
                                                </div> -->

                        <!-- <div class="form-group">
                                                    <label>Password <span class="text-danger">*</span></label>
                                                    <input type="text" class="form-control pd-y-12" placeholder="" formControlName="password" [class.error]="companyEpfForm.controls.password.dirty || companyEpfForm.controls.password.touched">

                                                    <p class="mt-1 text-danger" *ngIf="companyEpfForm.controls.password.hasError('required') && ( companyEpfForm.controls.password.dirty || companyEpfForm.controls.password.touched )">This field is required</p>
                                                </div> -->

                        <div class="form-group">
                          <label
                            >Regional Office Address
                            <span class="text-danger">*</span></label
                          >
                          <textarea
                            class="form-control"
                            formControlName="regional_office_address"
                            [class.error]="
                              companyEpfForm.controls.regional_office_address
                                .dirty ||
                              companyEpfForm.controls.regional_office_address
                                .touched
                            "
                          ></textarea>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEpfForm.controls.regional_office_address.hasError(
                                'required'
                              ) &&
                              (companyEpfForm.controls.regional_office_address
                                .dirty ||
                                companyEpfForm.controls.regional_office_address
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>PF Certificate</label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="pf_certificate"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyEpfForm,
                                'pf_certificate',
                                'pf_certificate_file'
                              )
                            "
                          />
                        </div>

                        <div class="form-group">
                          <label
                            >Note Box <span class="text-danger">*</span></label
                          >
                          <textarea
                            class="form-control"
                            formControlName="note_box"
                            [class.error]="
                              companyEpfForm.controls.note_box.dirty ||
                              companyEpfForm.controls.note_box.touched
                            "
                          ></textarea>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEpfForm.controls.note_box.hasError(
                                'required'
                              ) &&
                              (companyEpfForm.controls.note_box.dirty ||
                                companyEpfForm.controls.note_box.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyEPFData($event)"
                        >
                          <span>Save</span>
                        </button>
                      </form>
                    </div>
                  </div>
                </section>
                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Communication-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Insurance-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Insurance"
              role="tabpanel"
              aria-labelledby="v-pills-Insurance-tab"
            >
              <div class="bd_stepscon">
                <h3>Employer’s State Insurance (ESIC)</h3>
                <section>
                  <div class="bd_section">
                    <button
                      class="btn btn-success btn-sm add_esic"
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <table class="table tx-13 tx-gray-700 bd mt-2">
                      <tbody>
                        <tr>
                          <td>Registration No.</td>
                          <td>
                            {{
                              userDetails?.com_det?.esic.registration_no ??
                                "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Regional PF office</td>
                          <td>
                            {{
                              userDetails?.com_det?.esic.regional_pf_office ??
                                "N/A"
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Lin No</td>
                          <td>
                            {{ userDetails?.com_det?.esic.lin_no ?? "N/A" }}
                          </td>
                        </tr>
                        <tr *ngIf="userDetails?.com_det?.esic.esic_certificate">
                          <td>Certificate Copy</td>
                          <td>
                            <a
                              target="_blank"
                              download
                              href="{{ BACKEND_URL }}/{{
                                userDetails?.com_det?.esic.esic_certificate
                              }}"
                              class="btn btn-primary btn-icon mg-r-5"
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-download"></i>
                              </div>
                            </a>

                            <button
                              class="btn btn-info btn-icon mg-r-5"
                              (click)="
                                imageViewer(
                                  BACKEND_URL +
                                    '/' +
                                    userDetails?.com_det?.esic.esic_certificate
                                )
                              "
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-eye"></i>
                              </div>
                            </button>
                          </td>
                        </tr>
                        <tr>
                          <td>Notes Box</td>
                          <td>
                            {{ userDetails?.com_det?.esic.note_box ?? "N/A" }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div
                    class="from_esic bd_rightside animate__animated animate__slideInRight"
                  >
                    <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                      <h6 class="tx-gray-800 tx-uppercase tx-bold">
                        Edit
                        <button
                          class="btn btn-info pull-right add_esic cancel-modal"
                          style="float: right; clear: both"
                        >
                          <i class="fa fa-times"></i>
                        </button>
                      </h6>

                      <p class="tx-gray-600 mg-b-30">
                        Employer’s State Insurance (ESIC)
                      </p>

                      <form [formGroup]="companyEsicForm">
                        <div class="form-group">
                          <label>Registration Number</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="registration_no"
                            [class.error]="
                              companyEsicForm.controls.registration_no.dirty ||
                              companyEsicForm.controls.registration_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEsicForm.controls.registration_no.hasError(
                                'required'
                              ) &&
                              (companyEsicForm.controls.registration_no.dirty ||
                                companyEsicForm.controls.registration_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Regional PF office</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="regional_pf_office"
                            [class.error]="
                              companyEsicForm.controls.regional_pf_office
                                .dirty ||
                              companyEsicForm.controls.regional_pf_office
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEsicForm.controls.regional_pf_office.hasError(
                                'required'
                              ) &&
                              (companyEsicForm.controls.regional_pf_office
                                .dirty ||
                                companyEsicForm.controls.regional_pf_office
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>LIN No</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="lin_no"
                            [class.error]="
                              companyEsicForm.controls.lin_no.dirty ||
                              companyEsicForm.controls.lin_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEsicForm.controls.lin_no.hasError(
                                'required'
                              ) &&
                              (companyEsicForm.controls.lin_no.dirty ||
                                companyEsicForm.controls.lin_no.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload Certificate Copy</label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="esic_certificate"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyEsicForm,
                                'esic_certificate',
                                'esic_certificate_file'
                              )
                            "
                          />
                        </div>

                        <div class="form-group">
                          <label>Notes Box</label>
                          <textarea
                            class="form-control pd-y-12"
                            formControlName="note_box"
                            [class.error]="
                              companyEsicForm.controls.note_box.dirty ||
                              companyEsicForm.controls.note_box.touched
                            "
                          ></textarea>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyEsicForm.controls.note_box.hasError(
                                'required'
                              ) &&
                              (companyEsicForm.controls.note_box.dirty ||
                                companyEsicForm.controls.note_box.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyESICData($event)"
                        >
                          <span>Save</span>
                        </button>
                      </form>
                    </div>
                  </div>
                </section>
                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Provident-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Professional-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Professional"
              role="Professional"
              aria-labelledby="v-pills-Professional-tab"
            >
              <div class="bd_stepscon">
                <h3>Professional Tax</h3>
                <section>
                  <div class="bd_section">
                    <button
                      class="btn btn-success btn-sm add_protax"
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <table class="table tx-13 tx-gray-700 bd mt-2">
                      <tbody>
                        <tr>
                          <td>Registration Number-Enrolment</td>
                          <td>
                            {{
                              userDetails?.com_det?.professional_tax
                                .registration_no_enrolment ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            userDetails?.com_det?.professional_tax
                              .registration_no_enrolment_certificate
                          "
                        >
                          <td>Certificate Copy</td>
                          <td>
                            <a
                              target="_blank"
                              download
                              href="{{ BACKEND_URL }}/{{
                                userDetails?.com_det?.professional_tax
                                  .registration_no_enrolment_certificate
                              }}"
                              class="btn btn-primary btn-icon mg-r-5"
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-download"></i>
                              </div>
                            </a>

                            <button
                              class="btn btn-info btn-icon mg-r-5"
                              (click)="
                                imageViewer(
                                  BACKEND_URL +
                                    '/' +
                                    userDetails?.com_det?.professional_tax
                                      .registration_no_enrolment_certificate
                                )
                              "
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-eye"></i>
                              </div>
                            </button>
                          </td>
                        </tr>
                        <tr>
                          <td>Registration Number-Registration</td>
                          <td>
                            {{
                              userDetails?.com_det?.professional_tax
                                .registration_no_rgistration ?? "N/A"
                            }}
                          </td>
                        </tr>
                        <tr
                          *ngIf="
                            userDetails?.com_det?.professional_tax
                              .registration_no_rgistration_certificate
                          "
                        >
                          <td>Certificate Copy</td>
                          <td>
                            <a
                              target="_blank"
                              download
                              href="{{ BACKEND_URL }}/{{
                                userDetails?.com_det?.professional_tax
                                  .registration_no_rgistration_certificate
                              }}"
                              class="btn btn-primary btn-icon mg-r-5"
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-download"></i>
                              </div>
                            </a>

                            <button
                              class="btn btn-info btn-icon mg-r-5"
                              (click)="
                                imageViewer(
                                  BACKEND_URL +
                                    '/' +
                                    userDetails?.com_det?.professional_tax
                                      .registration_no_rgistration_certificate
                                )
                              "
                            >
                              <div style="width: 25px; height: 25px">
                                <i class="fa fa-eye"></i>
                              </div>
                            </button>
                          </td>
                        </tr>
                        <tr>
                          <td>Note Box</td>
                          <td>
                            {{
                              userDetails?.com_det?.professional_tax.note_box ??
                                "N/A"
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div
                    class="from_protax bd_rightside animate__animated animate__slideInRight"
                  >
                    <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                      <h6 class="tx-gray-800 tx-uppercase tx-bold">
                        Edit
                        <button
                          class="btn btn-info pull-right add_protax cancel-modal"
                          style="float: right; clear: both"
                        >
                          <i class="fa fa-times"></i>
                        </button>
                      </h6>

                      <p class="tx-gray-600 mg-b-30">Professional Tax</p>

                      <form [formGroup]="companyPTaxForm">
                        <div class="form-group">
                          <label
                            >Registration Number-Enrolment
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="registration_no_enrolment"
                            [class.error]="
                              companyPTaxForm.controls.registration_no_enrolment
                                .dirty ||
                              companyPTaxForm.controls.registration_no_enrolment
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPTaxForm.controls.registration_no_enrolment.hasError(
                                'required'
                              ) &&
                              (companyPTaxForm.controls
                                .registration_no_enrolment.dirty ||
                                companyPTaxForm.controls
                                  .registration_no_enrolment.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label>Upload Certificate Copy</label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="registration_no_enrolment_certificate"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyPTaxForm,
                                'registration_no_enrolment_certificate',
                                'registration_no_enrolment_certificate_file'
                              )
                            "
                          />
                        </div>

                        <div class="form-group">
                          <label
                            >Registration Number-Registration
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="registration_no_rgistration"
                            [class.error]="
                              companyPTaxForm.controls
                                .registration_no_rgistration.dirty ||
                              companyPTaxForm.controls
                                .registration_no_rgistration.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPTaxForm.controls.registration_no_rgistration.hasError(
                                'required'
                              ) &&
                              (companyPTaxForm.controls
                                .registration_no_rgistration.dirty ||
                                companyPTaxForm.controls
                                  .registration_no_rgistration.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload Certificate Copy</label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="registration_no_rgistration_certificate"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyPTaxForm,
                                'registration_no_rgistration_certificate',
                                'registration_no_rgistration_certificate_file'
                              )
                            "
                          />
                        </div>

                        <div class="form-group">
                          <label>Note Box</label>
                          <textarea
                            class="form-control"
                            formControlName="note_box"
                            [class.error]="
                              companyPTaxForm.controls.note_box.dirty ||
                              companyPTaxForm.controls.note_box.touched
                            "
                          ></textarea>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyPTaxForm.controls.note_box.hasError(
                                'required'
                              ) &&
                              (companyPTaxForm.controls.note_box.dirty ||
                                companyPTaxForm.controls.note_box.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyPTaxData($event)"
                        >
                          <span>Save</span>
                        </button>
                      </form>
                    </div>
                  </div>
                </section>
                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Insurance-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Company-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              *ngIf="
                Global.checkCompanyModulePermission({
                  company_module: 'master',
                  company_sub_module: 'branch',
                  company_sub_operation: ['view'],
                  company_strict: true
                })
              "
              class="tab-pane fade"
              id="v-pills-Company"
              role="tabpanel"
              aria-labelledby="v-pills-Company-tab"
            >
              <div class="bd_stepscon">
                <h3>Company & Branch Details</h3>
                <section>
                  <ng-container
                    *ngIf="
                      userDetails?.com_det?.company_branch &&
                        userDetails?.com_det?.company_branch.length > 0;
                      else noBranchesFound
                    "
                  >
                    <ng-container
                      *ngFor="
                        let item of userDetails?.com_det?.company_branch;
                        let i = index
                      "
                    >
                      <div class="card mt-3">
                        <a
                          href="#branch-collapse-{{ i }}"
                          role="button"
                          aria-expanded="false"
                          aria-controls="branchDetailsCollapse"
                          data-toggle="collapse"
                        >
                          <div class="card-header">
                            <h3>
                              {{ item.branch_name }}

                              <button
                                (click)="editBranch(item)"
                                class="btn btn-success btn-sm add_combrde float-right"
                                *ngIf="
                                  Global.checkCompanyModulePermission( {
                                      company_module:'master',
                                      company_sub_module:'branch',
                                      company_sub_operation: ['edit'],
                                      company_strict: true
                                    }
                                  )"
                              >
                                Edit
                              </button>
                            </h3>
                          </div>
                        </a>

                        <div
                          class="card-body"
                          class="collapse"
                          id="branch-collapse-{{ i }}"
                        >
                          <div class="bd_section">
                            <table class="table tx-13 tx-gray-700 bd mt-0">
                              <tbody>
                                <tr>
                                  <td>Branch Name</td>
                                  <td>{{ item.branch_name }}</td>
                                </tr>
                                <tr>
                                  <td>Branch Contact Person</td>
                                  <td>
                                    {{ item.branch_contact_person ?? "N/A" }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>Contact Person Number</td>
                                  <td>
                                    {{ item.contact_person_number ?? "N/A" }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>Contact Person Mail ID</td>
                                  <td>
                                    {{ item.contact_person_email ?? "N/A" }}
                                  </td>
                                </tr>

                                <tr>
                                  <td>EPF Registration No.</td>
                                  <td>
                                    {{ item.epf_registration_no ?? "N/A" }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>EPF Group No.</td>
                                  <td>{{ item.epf_group_no ?? "N/A" }}</td>
                                </tr>
                                <tr>
                                  <td>EPF PF ACT Apply</td>
                                  <td class="text-uppercase">
                                    {{ item.epf_pf_rule_apply ?? "N/A" }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>EPF Lin No.</td>
                                  <td>{{ item.epf_lin_no ?? "N/A" }}</td>
                                </tr>
                                <!-- <tr>
                                                                  <td>EPF Note</td>
                                                                  <td>{{ item.note_box ?? 'N/A' }}</td>
                                                              </tr> -->
                                <tr>
                                  <td>EPF Regional Office Address</td>
                                  <td>
                                    {{
                                      item.epf_regional_office_address ?? "N/A"
                                    }}
                                  </td>
                                </tr>
                                <tr *ngIf="item.branch_EPFO_number_doc">
                                  <td>EPF PF Certificate</td>
                                  <td>
                                    <a
                                      target="_blank"
                                      download
                                      href="{{ BACKEND_URL }}/{{
                                        item.branch_EPFO_number_doc
                                      }}"
                                      class="btn btn-primary btn-icon mg-r-5"
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-download"></i>
                                      </div>
                                    </a>

                                    <button
                                      class="btn btn-info btn-icon mg-r-5"
                                      (click)="
                                        imageViewer(
                                          BACKEND_URL +
                                            '/' +
                                            item.branch_EPFO_number_doc
                                        )
                                      "
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-eye"></i>
                                      </div>
                                    </button>
                                  </td>
                                </tr>

                                <tr>
                                  <td>ESIC Registration No.</td>
                                  <td>
                                    {{ item.esic_registration_no ?? "N/A" }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>ESIC Regional PF office</td>
                                  <td>
                                    {{ item.esic_regional_pf_office ?? "N/A" }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>ESIC Lin No</td>
                                  <td>{{ item.esic_lin_no ?? "N/A" }}</td>
                                </tr>
                                <tr *ngIf="item.branch_EPFO_number_doc">
                                  <td>ESIC Certificate Copy</td>
                                  <td>
                                    <a
                                      target="_blank"
                                      download
                                      href="{{ BACKEND_URL }}/{{
                                        item.branch_EPFO_number_doc
                                      }}"
                                      class="btn btn-primary btn-icon mg-r-5"
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-download"></i>
                                      </div>
                                    </a>

                                    <button
                                      class="btn btn-info btn-icon mg-r-5"
                                      (click)="
                                        imageViewer(
                                          BACKEND_URL +
                                            '/' +
                                            item.branch_EPFO_number_doc
                                        )
                                      "
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-eye"></i>
                                      </div>
                                    </button>
                                  </td>
                                </tr>

                                <tr>
                                  <td>P-Tax Registration Number-Enrolment</td>
                                  <td>
                                    {{
                                      item.p_tax_registration_no_enrolment ??
                                        "N/A"
                                    }}
                                  </td>
                                </tr>
                                <tr *ngIf="item.ptax_enrolment_certificate">
                                  <td>P-Tax Certificate Copy</td>
                                  <td>
                                    <a
                                      target="_blank"
                                      download
                                      href="{{ BACKEND_URL }}/{{
                                        item.ptax_enrolment_certificate
                                      }}"
                                      class="btn btn-primary btn-icon mg-r-5"
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-download"></i>
                                      </div>
                                    </a>

                                    <button
                                      class="btn btn-info btn-icon mg-r-5"
                                      (click)="
                                        imageViewer(
                                          BACKEND_URL +
                                            '/' +
                                            item.ptax_enrolment_certificate
                                        )
                                      "
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-eye"></i>
                                      </div>
                                    </button>
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                    P-Tax Registration Number-Registration
                                  </td>
                                  <td>
                                    {{
                                      item.p_tax_registration_no_rgistration ??
                                        "N/A"
                                    }}
                                  </td>
                                </tr>
                                <tr *ngIf="item.ptax_rgistration_certificate">
                                  <td>P-Tax Certificate Copy</td>
                                  <td>
                                    <a
                                      target="_blank"
                                      download
                                      href="{{ BACKEND_URL }}/{{
                                        item.ptax_rgistration_certificate
                                      }}"
                                      class="btn btn-primary btn-icon mg-r-5"
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-download"></i>
                                      </div>
                                    </a>

                                    <button
                                      class="btn btn-info btn-icon mg-r-5"
                                      (click)="
                                        imageViewer(
                                          BACKEND_URL +
                                            '/' +
                                            item.ptax_rgistration_certificate
                                        )
                                      "
                                    >
                                      <div style="width: 25px; height: 25px">
                                        <i class="fa fa-eye"></i>
                                      </div>
                                    </button>
                                  </td>
                                </tr>

                                <tr>
                                  <td>Contact Person Mail ID</td>
                                  <td>
                                    {{ item.contact_person_email ?? "N/A" }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>Branch LWF Shop</td>
                                  <td>{{ item.lwf_shop ?? "N/A" }}</td>
                                </tr>
                                <tr>
                                  <td>Establishment Labour License</td>
                                  <td>
                                    {{
                                      item.establishment_labour_license ?? "N/A"
                                    }}
                                  </td>
                                </tr>
                                <tr>
                                  <td>Branch Address</td>
                                  <td>{{ item.branch_address ?? "N/A" }}</td>
                                </tr>
                                <tr>
                                  <td>Status</td>
                                  <td>
                                    <div
                                      class="br-toggle br-toggle-rounded br-toggle-primary pointer-none"
                                      [class.on]="item.status == 'active'"
                                    >
                                      <div class="br-toggle-switch"></div>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <!-- <button class="btn btn-info btn-block">Add New Branch</button> -->
                          </div>
                        </div>
                      </div>
                    </ng-container>
                  </ng-container>

                  <ng-template #noBranchesFound>
                    <div class="card mt-3">
                      <div class="card-header">
                        <h3 class="text-center">No Branches Found</h3>
                      </div>
                    </div>
                  </ng-template>

                  <div
                    class="from_combrde bd_rightside animate__animated animate__slideInRight"
                  >
                    <form [formGroup]="companyBranchesForm">
                      <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                        <h6 class="tx-gray-800 tx-uppercase tx-bold">
                          <ng-container
                            *ngIf="
                              companyBranchEditActionId;
                              else branchAddTextBlock
                            "
                          >
                            Edit
                          </ng-container>

                          <ng-template #branchAddTextBlock> Add </ng-template>

                          <button
                            class="btn btn-info pull-right"
                            type="button"
                            style="float: right; clear: both"
                            (click)="cancelBranchEntry()"
                          >
                            <i class="fa fa-times"></i>
                          </button>
                        </h6>

                        <p class="tx-gray-600 mg-b-30">
                          Company Branch Details
                        </p>

                        <div class="form-group">
                          <label
                            >Branch Name
                            <span class="text-danger">*</span></label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="branch_name"
                            [class.error]="
                              companyBranchesForm.controls.branch_name.dirty ||
                              companyBranchesForm.controls.branch_name.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.branch_name.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.branch_name.dirty ||
                                companyBranchesForm.controls.branch_name
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch Contact Person Name</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="branch_contact_person"
                            [class.error]="
                              companyBranchesForm.controls.branch_contact_person
                                .dirty ||
                              companyBranchesForm.controls.branch_contact_person
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.branch_contact_person.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .branch_contact_person.dirty ||
                                companyBranchesForm.controls
                                  .branch_contact_person.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch Contact Person Number</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="contact_person_number"
                            [class.error]="
                              companyBranchesForm.controls.contact_person_number
                                .dirty ||
                              companyBranchesForm.controls.contact_person_number
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.contact_person_number.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .contact_person_number.dirty ||
                                companyBranchesForm.controls
                                  .contact_person_number.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              (companyBranchesForm.controls.contact_person_number.hasError(
                                'pattern'
                              ) ||
                                companyBranchesForm.controls.contact_person_number.hasError(
                                  'minlength'
                                ) ||
                                companyBranchesForm.controls.contact_person_number.hasError(
                                  'maxlength'
                                )) &&
                              (companyBranchesForm.controls
                                .contact_person_number.dirty ||
                                companyBranchesForm.controls
                                  .contact_person_number.touched)
                            "
                          >
                            Please enter a valid mobile number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch Contact Person Email</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="contact_person_email"
                            [class.error]="
                              companyBranchesForm.controls.contact_person_email
                                .dirty ||
                              companyBranchesForm.controls.contact_person_email
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.contact_person_email.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.contact_person_email
                                .dirty ||
                                companyBranchesForm.controls
                                  .contact_person_email.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.contact_person_email.hasError(
                                'email'
                              ) &&
                              (companyBranchesForm.controls.contact_person_email
                                .dirty ||
                                companyBranchesForm.controls
                                  .contact_person_email.touched)
                            "
                          >
                            Please enter a valid email address
                          </p>
                        </div>

                        <!-- <div class="form-group">
                                                    <label>Branch EPF Number</label>
                                                    <input type="text" class="form-control pd-y-12" formControlName="branch_EPFO_number" [class.error]="companyBranchesForm.controls.branch_EPFO_number.dirty || companyBranchesForm.controls.branch_EPFO_number.touched">

                                                    <p class="mt-1 text-danger" *ngIf="companyBranchesForm.controls.branch_EPFO_number.hasError('required') && ( companyBranchesForm.controls.branch_EPFO_number.dirty || companyBranchesForm.controls.branch_EPFO_number.touched )">This field is required</p>

                                                    <p class="mt-1 text-danger" *ngIf="companyBranchesForm.controls.branch_EPFO_number.hasError('pattern') && ( companyBranchesForm.controls.branch_EPFO_number.dirty || companyBranchesForm.controls.branch_EPFO_number.touched )">Please enter a valid Trade EPFO number</p>
                                                </div> -->

                        <div class="form-group">
                          <label>Branch EPF Registration No.</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            placeholder=""
                            formControlName="epf_registration_no"
                            [class.error]="
                              companyBranchesForm.controls.epf_registration_no
                                .dirty ||
                              companyBranchesForm.controls.epf_registration_no
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.epf_registration_no.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.epf_registration_no
                                .dirty ||
                                companyBranchesForm.controls.epf_registration_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch EPF GROUP No.</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            placeholder=""
                            formControlName="epf_group_no"
                            [class.error]="
                              companyBranchesForm.controls.epf_group_no.dirty ||
                              companyBranchesForm.controls.epf_group_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.epf_group_no.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.epf_group_no
                                .dirty ||
                                companyBranchesForm.controls.epf_group_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch EPF PF ACT Apply</label>
                          <ngx-select-dropdown
                            formControlName="epf_pf_rule_apply"
                            [options]="pfRuleApplyMaster"
                            class="form-control"
                            [config]="{
                              search: false,
                              placeholder: 'Choose One',
                              height: '200px'
                            }"
                            [class.error]="
                              companyBranchesForm.controls.epf_pf_rule_apply
                                .dirty ||
                              companyBranchesForm.controls.epf_pf_rule_apply
                                .touched
                            "
                          ></ngx-select-dropdown>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.epf_pf_rule_apply.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.epf_pf_rule_apply
                                .dirty ||
                                companyBranchesForm.controls.epf_pf_rule_apply
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group branch-epfo-pf-rule-fields">
                          <label
                            >Branch EPF PF Rule
                            <span class="text-danger">*</span></label
                          >
                          <ngx-select-dropdown
                            formControlName="epf_pf_rule"
                            [options]="pfRuleMaster"
                            class="form-control"
                            [config]="{
                              search: false,
                              placeholder: 'Choose One',
                              height: '200px'
                            }"
                            [class.error]="
                              companyBranchesForm.controls.epf_pf_rule.dirty ||
                              companyBranchesForm.controls.epf_pf_rule.touched
                            "
                          ></ngx-select-dropdown>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.epf_pf_rule.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.epf_pf_rule.dirty ||
                                companyBranchesForm.controls.epf_pf_rule
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch EPF LIN No.</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            placeholder=""
                            formControlName="epf_lin_no"
                            [class.error]="
                              companyBranchesForm.controls.epf_lin_no.dirty ||
                              companyBranchesForm.controls.epf_lin_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.epf_lin_no.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.epf_lin_no.dirty ||
                                companyBranchesForm.controls.epf_lin_no.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch EPF Regional Office Address</label>
                          <textarea
                            class="form-control"
                            formControlName="epf_regional_office_address"
                            [class.error]="
                              companyBranchesForm.controls
                                .epf_regional_office_address.dirty ||
                              companyBranchesForm.controls
                                .epf_regional_office_address.touched
                            "
                          ></textarea>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.epf_regional_office_address.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .epf_regional_office_address.dirty ||
                                companyBranchesForm.controls
                                  .epf_regional_office_address.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload EPFO Document</label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="branch_EPFO_number_doc"
                            [class.error]="
                              companyBranchesForm.controls
                                .branch_EPFO_number_doc.dirty ||
                              companyBranchesForm.controls
                                .branch_EPFO_number_doc.touched
                            "
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyBranchesForm,
                                'branch_EPFO_number_doc',
                                'branch_EPFO_number_doc_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.branch_EPFO_number_doc.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .branch_EPFO_number_doc.dirty ||
                                companyBranchesForm.controls
                                  .branch_EPFO_number_doc.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <!-- <div class="form-group">
                                                    <label>Branch ESIC Number</label>
                                                    <input type="text" class="form-control pd-y-12" formControlName="branch_ESIC_number" [class.error]="companyBranchesForm.controls.branch_ESIC_number.dirty || companyBranchesForm.controls.branch_ESIC_number.touched">

                                                    <p class="mt-1 text-danger" *ngIf="companyBranchesForm.controls.branch_ESIC_number.hasError('required') && ( companyBranchesForm.controls.branch_ESIC_number.dirty || companyBranchesForm.controls.branch_ESIC_number.touched )">This field is required</p>

                                                    <p class="mt-1 text-danger" *ngIf="companyBranchesForm.controls.branch_ESIC_number.hasError('pattern') && ( companyBranchesForm.controls.branch_ESIC_number.dirty || companyBranchesForm.controls.branch_ESIC_number.touched )">Please enter a valid Trade ESIC number</p>
                                                </div> -->

                        <div class="form-group">
                          <label>Branch ESIC Registration Number</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="esic_registration_no"
                            [class.error]="
                              companyBranchesForm.controls.esic_registration_no
                                .dirty ||
                              companyBranchesForm.controls.esic_registration_no
                                .touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.esic_registration_no.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.esic_registration_no
                                .dirty ||
                                companyBranchesForm.controls
                                  .esic_registration_no.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch ESIC Regional PF office</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="esic_regional_pf_office"
                            [class.error]="
                              companyBranchesForm.controls
                                .esic_regional_pf_office.dirty ||
                              companyBranchesForm.controls
                                .esic_regional_pf_office.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.esic_regional_pf_office.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .esic_regional_pf_office.dirty ||
                                companyBranchesForm.controls
                                  .esic_regional_pf_office.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch ESIC LIN No</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="esic_lin_no"
                            [class.error]="
                              companyBranchesForm.controls.esic_lin_no.dirty ||
                              companyBranchesForm.controls.esic_lin_no.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.esic_lin_no.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.esic_lin_no.dirty ||
                                companyBranchesForm.controls.esic_lin_no
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Upload ESIC Document</label>
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="branch_ESIC_number_doc"
                            [class.error]="
                              companyBranchesForm.controls
                                .branch_ESIC_number_doc.dirty ||
                              companyBranchesForm.controls
                                .branch_ESIC_number_doc.touched
                            "
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyBranchesForm,
                                'branch_ESIC_number_doc',
                                'branch_ESIC_number_doc_file'
                              )
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.branch_ESIC_number_doc.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .branch_ESIC_number_doc.dirty ||
                                companyBranchesForm.controls
                                  .branch_ESIC_number_doc.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <!-- <div class="form-group">
                                                    <label>Branch P Tax Number</label>
                                                    <input type="text" class="form-control pd-y-12" formControlName="branch_P_Tax_number" [class.error]="companyBranchesForm.controls.branch_P_Tax_number.dirty || companyBranchesForm.controls.branch_P_Tax_number.touched">

                                                    <p class="mt-1 text-danger" *ngIf="companyBranchesForm.controls.branch_P_Tax_number.hasError('required') && ( companyBranchesForm.controls.branch_P_Tax_number.dirty || companyBranchesForm.controls.branch_P_Tax_number.touched )">This field is required</p>

                                                    <p class="mt-1 text-danger" *ngIf="companyBranchesForm.controls.branch_P_Tax_number.hasError('pattern') && ( companyBranchesForm.controls.branch_P_Tax_number.dirty || companyBranchesForm.controls.branch_P_Tax_number.touched )">Please enter a valid Trade ESIC number</p>
                                                </div> -->

                        <!-- <div class="form-group">
                                                    <label>Upload P-TAX Document</label>
                                                    <input type="file" class="form-control pd-y-12" formControlName="branch_P_Tax_number_doc" [class.error]="companyBranchesForm.controls.branch_P_Tax_number_doc.dirty || companyBranchesForm.controls.branch_P_Tax_number_doc.touched" accept="image/*" (change)="onFileChanged($event, companyBranchesForm, 'branch_P_Tax_number_doc', 'branch_P_Tax_number_doc_file')">

                                                    <p class="mt-1 text-danger" *ngIf="companyBranchesForm.controls.branch_P_Tax_number_doc.hasError('required') && ( companyBranchesForm.controls.branch_P_Tax_number_doc.dirty || companyBranchesForm.controls.branch_P_Tax_number_doc.touched )">This field is required</p>
                                                </div> -->

                        <div class="form-group">
                          <label
                            >Branch P-Tax Registration Number-Enrolment</label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="p_tax_registration_no_enrolment"
                            [class.error]="
                              companyBranchesForm.controls
                                .p_tax_registration_no_enrolment.dirty ||
                              companyBranchesForm.controls
                                .p_tax_registration_no_enrolment.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.p_tax_registration_no_enrolment.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .p_tax_registration_no_enrolment.dirty ||
                                companyBranchesForm.controls
                                  .p_tax_registration_no_enrolment.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>
                        <div class="form-group">
                          <label
                            >Upload Branch P-Tax Number-Enrolment Certificate
                            Copy</label
                          >
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="ptax_enrolment_certificate"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyBranchesForm,
                                'ptax_enrolment_certificate',
                                'ptax_enrolment_certificate_file'
                              )
                            "
                          />
                        </div>

                        <div class="form-group">
                          <label
                            >Branch P-Tax Registration
                            Number-Registration</label
                          >
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="p_tax_registration_no_rgistration"
                            [class.error]="
                              companyBranchesForm.controls
                                .p_tax_registration_no_rgistration.dirty ||
                              companyBranchesForm.controls
                                .p_tax_registration_no_rgistration.touched
                            "
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.p_tax_registration_no_rgistration.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .p_tax_registration_no_rgistration.dirty ||
                                companyBranchesForm.controls
                                  .p_tax_registration_no_rgistration.touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label
                            >Upload Branch P-Tax Number-Registration Certificate
                            Copy</label
                          >
                          <input
                            type="file"
                            class="form-control pd-y-12"
                            formControlName="ptax_rgistration_certificate"
                            accept="image/*"
                            (change)="
                              onFileChanged(
                                $event,
                                companyBranchesForm,
                                'ptax_rgistration_certificate',
                                'ptax_rgistration_certificate_file'
                              )
                            "
                          />
                        </div>

                        <div class="form-group">
                          <label>Branch LWF Shop</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="lwf_shop"
                            [class.error]="
                              companyBranchesForm.controls.lwf_shop.dirty ||
                              companyBranchesForm.controls.lwf_shop.touched
                            "
                            placeholder="Optional"
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.lwf_shop.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.lwf_shop.dirty ||
                                companyBranchesForm.controls.lwf_shop.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.lwf_shop.hasError(
                                'pattern'
                              ) &&
                              (companyBranchesForm.controls.lwf_shop.dirty ||
                                companyBranchesForm.controls.lwf_shop.touched)
                            "
                          >
                            Please enter a valid LWF Shop details
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Establishment Labour License</label>
                          <input
                            type="text"
                            class="form-control pd-y-12"
                            formControlName="establishment_labour_license"
                            [class.error]="
                              companyBranchesForm.controls
                                .establishment_labour_license.dirty ||
                              companyBranchesForm.controls
                                .establishment_labour_license.touched
                            "
                            placeholder="Optional"
                          />

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.establishment_labour_license.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls
                                .establishment_labour_license.dirty ||
                                companyBranchesForm.controls
                                  .establishment_labour_license.touched)
                            "
                          >
                            This field is required
                          </p>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.establishment_labour_license.hasError(
                                'pattern'
                              ) &&
                              (companyBranchesForm.controls
                                .establishment_labour_license.dirty ||
                                companyBranchesForm.controls
                                  .establishment_labour_license.touched)
                            "
                          >
                            Please enter a valid number
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch Address</label>
                          <textarea
                            class="form-control pd-y-12"
                            formControlName="branch_address"
                            [class.error]="
                              companyBranchesForm.controls.branch_address
                                .dirty ||
                              companyBranchesForm.controls.branch_address
                                .touched
                            "
                          ></textarea>

                          <p
                            class="mt-1 text-danger"
                            *ngIf="
                              companyBranchesForm.controls.branch_address.hasError(
                                'required'
                              ) &&
                              (companyBranchesForm.controls.branch_address
                                .dirty ||
                                companyBranchesForm.controls.branch_address
                                  .touched)
                            "
                          >
                            This field is required
                          </p>
                        </div>

                        <div class="form-group">
                          <label>Branch Status</label>

                          <label class="rdiobox">
                            <input
                              value="active"
                              type="radio"
                              formControlName="status"
                            />
                            <span>Active</span>
                          </label>

                          <label class="rdiobox">
                            <input
                              value="inactive"
                              type="radio"
                              formControlName="status"
                            />
                            <span>Inactive</span>
                          </label>
                        </div>

                        <button
                          class="btn btn-info btn-block pd-y-10 mg-b-30"
                          (click)="submitCompanyBranch($event)"
                        >
                          <span>Save</span>
                        </button>
                      </div>
                    </form>
                  </div>
                </section>
                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Communication-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="addBranch()"
                        class="btn-next skip-popup"
                        *ngIf="
                          this.AppComponent.checkCompanyModulePermission({
                              
                              company_module: 'master',
                              company_sub_module: 'branch',
                              company_sub_operation: ['add'],
                              company_strict: true
                          })
                        "
                        >Add New Branch</a
                      >
                    </li>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Preference-tab')"
                        class="btn-next"
                        >Next</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="v-pills-Preference"
              role="tabpanel"
              aria-labelledby="v-pills-Preference-tab"
            >
              <div class="bd_stepscon">
                <h3>Preference Settings</h3>
                <section>
                  <div class="bd_section">
                    <button
                      class="btn btn-success btn-sm add_prefsetting"
                      style="float: right; margin-bottom: -28px"
                      *ngIf="
                        this.AppComponent.checkCompanyModulePermission({
                          company_module: 'company_profile',
                          company_sub_module:'company_profile',
                          company_sub_operation: ['edit'],
                          company_strict: true
                        })
                      "
                    >
                      Edit
                    </button>
                    <table class="table tx-13 tx-gray-700 bd mt-2">
                      <tbody>
                        <tr>
                          <td>EPFO Rule Select</td>
                          <td class="text-uppercase">
                            {{
                              userDetails?.com_det?.preference_settings
                                ?.epfo_rule
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>ESIC Rule Select</td>
                          <td class="text-uppercase">
                            {{
                              userDetails?.com_det?.preference_settings
                                ?.esic_rule
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Gratuity Rule Select</td>
                          <td class="text-uppercase">
                            {{
                              userDetails?.com_det?.preference_settings
                                ?.gratuity_rule
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Bonus Rule Select</td>
                          <td class="text-uppercase">
                            {{
                              userDetails?.com_det?.preference_settings
                                ?.bonus_rule
                            }}
                          </td>
                        </tr>
                        <tr>
                          <td>Define Financial Year End</td>
                          <td>
                            {{
                              userDetails?.com_det?.preference_settings
                                ?.financial_year_end | date
                            }}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div
                      class="from_prefsetting bd_rightside animate__animated animate__slideInRight"
                    >
                      <div class="pd-20 pd-xs-40 mg-t-40" style="width: 100%">
                        <h6 class="tx-gray-800 tx-uppercase tx-bold">
                          Edit
                          <button
                            class="cancel-modal btn btn-info pull-right add_prefsetting"
                            style="float: right; clear: both"
                          >
                            <i class="fa fa-times"></i>
                          </button>
                        </h6>

                        <p class="tx-gray-600 mg-b-30">Preference Settings</p>

                        <form [formGroup]="companyPreferenceForm">
                          <div class="form-group">
                            <label>EPFO Rule Select</label>

                            <div class="d-flex">
                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="epfo_rule"
                                  value="custom"
                                />
                                <span>Custom</span>
                              </label>

                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="epfo_rule"
                                  value="default"
                                />
                                <span>Default</span>
                              </label>
                            </div>
                          </div>

                          <div class="form-group">
                            <label>ESIC Rule Select</label>

                            <div class="d-flex">
                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="esic_rule"
                                  value="custom"
                                />
                                <span>Custom</span>
                              </label>

                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="esic_rule"
                                  value="default"
                                />
                                <span>Default</span>
                              </label>
                            </div>
                          </div>

                          <div class="form-group">
                            <label>Gratuity Rule Select</label>

                            <div class="d-flex">
                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="gratuity_rule"
                                  value="custom"
                                />
                                <span>Custom</span>
                              </label>

                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="gratuity_rule"
                                  value="default"
                                />
                                <span>Default</span>
                              </label>
                            </div>
                          </div>

                          <div class="form-group">
                            <label>Bonus Rule Select</label>

                            <div class="d-flex">
                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="bonus_rule"
                                  value="custom"
                                />
                                <span>Custom</span>
                              </label>

                              <label class="rdiobox">
                                <input
                                  type="radio"
                                  formControlName="bonus_rule"
                                  value="default"
                                />
                                <span>Default</span>
                              </label>
                            </div>
                          </div>

                          <div class="form-group">
                            <label>Define Financial Year End</label>
                            <dp-date-picker
                              class="form-control"
                              [config]="{
                                disableKeypress: true,
                                format: 'MM/DD/YYYY'
                              }"
                              formControlName="financial_year_end"
                              theme="dp-material"
                              attachTo=".mat-input-wrapper"
                              [class.error]="
                                companyPreferenceForm.controls
                                  .financial_year_end.dirty ||
                                companyPreferenceForm.controls
                                  .financial_year_end.touched
                              "
                            ></dp-date-picker>

                            <p
                              class="mt-1 text-danger"
                              *ngIf="
                                companyPreferenceForm.controls.financial_year_end.hasError(
                                  'required'
                                ) &&
                                (companyPreferenceForm.controls
                                  .financial_year_end.dirty ||
                                  companyPreferenceForm.controls
                                    .financial_year_end.touched)
                              "
                            >
                              This field is required
                            </p>
                          </div>

                          <button
                            class="btn btn-info btn-block pd-y-10 mg-b-30"
                            (click)="submitCompanyPreference($event)"
                          >
                            <span>Save</span>
                          </button>
                        </form>
                      </div>
                    </div>
                  </div>
                </section>
                <div class="bd_actions">
                  <ul>
                    <li aria-hidden="false" aria-disabled="false">
                      <a
                        href="javascript:;"
                        (click)="clickOnTabNav('v-pills-Company-tab')"
                        class="btn-prev"
                        >Previous</a
                      >
                    </li>
                    <li aaria-disabled="true" class="disabled">
                      <a href="javascript:;" class="btn-next">Next</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <companyuser-app-dashboard-footer></companyuser-app-dashboard-footer>
</div>

<!-- Company Logo Modal -->
<div id="compLogoModal" tabindex="-1" class="modal fade">
  <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
    <div class="modal-content bd-0 tx-14">
      <div class="modal-header pd-y-20 pd-x-25">
        <h6 class="tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold">
          Upload Company Logo
        </h6>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form [formGroup]="companyLogoUploadForm">
        <div class="modal-body pd-25">
          <div class="row">
            <div class="col-lg">
              <input
                class="form-control"
                type="file"
                accept="image/*"
                formControlName="image"
                (change)="onCompanyLogoChanged($event)"
              />
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button "
            [disabled]="!companyLogoUploadForm.valid"
            (click)="updateCompanyLogo($event)"
            class="btn btn-primary tx-11 tx-uppercase pd-y-12 pd-x-25 tx-mont tx-medium"
          >
            <span>Update</span>
          </button>
          <button
            type="button "
            class="btn btn-secondary tx-11 tx-uppercase pd-y-12 pd-x-25 tx-mont tx-medium"
            data-dismiss="modal "
          >
            Close
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Company Logo Modal -->
<div id="compLogoModal" tabindex="-1" class="modal fade">
  <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
    <div class="modal-content bd-0 tx-14">
      <div class="modal-header pd-y-20 pd-x-25">
        <h6 class="tx-14 mg-b-0 tx-uppercase tx-inverse tx-bold">
          Upload Company Logo
        </h6>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form [formGroup]="companyLogoUploadForm">
        <div class="modal-body pd-25">
          <div class="row">
            <div class="col-lg">
              <input
                class="form-control"
                type="file"
                accept="image/*"
                formControlName="image"
                (change)="onCompanyLogoChanged($event)"
              />
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button "
            [disabled]="!companyLogoUploadForm.valid"
            (click)="updateCompanyLogo($event)"
            class="btn btn-primary tx-11 tx-uppercase pd-y-12 pd-x-25 tx-mont tx-medium"
          >
            <span>Update</span>
          </button>
          <button
            type="button "
            class="btn btn-secondary tx-11 tx-uppercase pd-y-12 pd-x-25 tx-mont tx-medium"
            data-dismiss="modal "
          >
            Close
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
